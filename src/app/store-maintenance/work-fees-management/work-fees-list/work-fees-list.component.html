<div class="content-header">
  <app-crumb [level1Name]="'工时费管理'" [level2Name]=""></app-crumb>
  <ul class="header-right">
    <li class="big-bg" [routerLink]="['../edit']">
      <a>新建</a>
    </li>
  </ul>
</div>
<div class="content-flow">
  <div class="table-container">
    <div class="search-container">
      <form nz-form class="search-form">
        <div nz-row class="search_row">
          <div>
            <nz-form-item nzFlex>
              <nz-form-label>状态</nz-form-label>
              <nz-form-control class="form_control">
                <select class="form-control" name="pay_status" [(ngModel)]="searchParams.pay_status">
                  <option value="">全部</option>
                  <option value="1">销售中</option>
                  <option value="2">未上架</option>
                </select>
              </nz-form-control>
            </nz-form-item>
          </div>
          <div>
            <nz-form-item nzFlex>
              <nz-form-label>工时费名称</nz-form-label>
              <nz-form-control>
                <input class="form-control" placeholder="请输入工时费名称" autocomplete="off"
                  [(ngModel)]="searchParams.payer_phone" name="payer_phone" maxlength='11' />
              </nz-form-control>
            </nz-form-item>
          </div>
          <div class='search_btn'>
            <button nz-button nzType="primary" (click)="onSearchBtnClick()">
              查询</button>
          </div>
        </div>
      </form>
    </div>
    <div class="zmy-table">
      <nz-table [nzData]="orderList" [nzShowPagination]="true" [nzNoResult]="noResultText" [nzPageSize]="'15'"
        (nzPageIndexChange)="onNZPageIndexChange($event)" [(nzPageIndex)]="pageIndex" #basicTable>
        <thead>
          <tr>
            <th>序号</th>
            <th>工时费名称</th>
            <th>所属项目</th>
            <th>原价</th>
            <th>售价</th>
            <th>结算价</th>
            <th>状态</th>
            <th>操作</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of basicTable.data; let i=index">
            <td>{{i+(pageIndex-1)*15+1}}</td>
            <td [title]='data.upkeep_order_id'>{{(data.upkeep_order_id|zMaxLength:5)||'--'}}</td>
            <td [title]='data.payer_name'>{{(data.payer_name|zMaxLength:3)||'--'}}</td>
            <td>{{data.payer_phone||'--'}}</td>
            <td>{{data.vehicle_brand_name||'--'}}</td>
            <td>{{(data.total_real_amount | zCompleteNumber)||0}} 元</td>
            <td style='min-width: 70px;'>{{data.pay_status|payStatus}}</td>
            <td class="operation">
              <a [title]="'编辑'" [routerLink]="['../edit',data.upkeep_order_id]">编辑</a>
            </td>
          </tr>
        </tbody>
      </nz-table>
    </div>
  </div>
</div>