<div class="content-header">
  <app-crumb [level1Name]="'订单管理'"></app-crumb>
</div>

<div class="content-flow">
  <div class="search-container">
    <form class="search-form">
      <div class="form-group">
        <span>订单状态：</span>
        <select class="form-control" style="width: 100px;" name="status" [(ngModel)]="order_status"
          (change)="onChangeSearchStatus($event)">
          <option value="">全部</option>
          <option value="1">已支付</option>
          <option value="2">待支付</option>
          <option value="3">已取消</option>
        </select>
      </div>
      <div class="form-group">
        <span>产品名称：</span>
        <input class="form-control" placeholder="请输入产品名称" autocomplete="off" name="product_name" maxlength="20"
          appIgnoreSpace />
      </div>
      <div class="form-group">
        <span>订单编号：</span>
        <input class="form-control" placeholder="请输入订单编号" autocomplete="off" name="order_num" maxlength="20"
          appIgnoreSpace />
      </div>
      <div class="form-group">
        <span>购买渠道：</span>
        <select class="form-control" name="source" [(ngModel)]="source" (change)="onChangeSearchSource($event)">
          <option value="">全部</option>
          <option value="1">美行停车App</option>
          <option value="2">美行停车小程序</option>
        </select>
      </div>
      <div class="form-group">
        <span>下单时间：</span>
        <nz-date-picker [(ngModel)]="order_start_time" [nzShowToday]=false [nzDisabledDate]="disabledOrderStartTime"
          name='order_start_time' [nzShowTime]="{'nzFormat':'HH:mm'}" nzFormat="yyyy-MM-dd HH:mm"></nz-date-picker>
        <span class='line'>-</span>
        <nz-date-picker [(ngModel)]="order_end_time" [nzShowToday]=false [nzDisabledDate]="disabledOrderEndTime"
          name='order_end_time' [nzShowTime]="{'nzFormat':'HH:mm'}" nzFormat="yyyy-MM-dd HH:mm"></nz-date-picker>
      </div>
      <div class="form-group">
        <span>支付时间：</span>
        <nz-date-picker [(ngModel)]="pay_start_time" [nzShowToday]=false [nzDisabledDate]="disabledStartPayTime"
          name='pay_start_time' [nzShowTime]="{'nzFormat':'HH:mm'}" nzFormat="yyyy-MM-dd HH:mm"></nz-date-picker>
        <span class='line'>-</span>
        <nz-date-picker [(ngModel)]="pay_end_time" [nzShowToday]=false [nzDisabledDate]="disabledEndPayTime"
          name='pay_end_time' [nzShowTime]="{'nzFormat':'HH:mm'}" nzFormat="yyyy-MM-dd HH:mm"></nz-date-picker>
        <div class="search-btn-group">
          <button nz-button nzType="primary" (click)="onSearchBtnClick()">查询
          </button>
        </div>
      </div>
    </form>
  </div>
  <div class="table-container">
    <div class="zmy-table">
      <nz-table [nzData]="orderList" [nzShowPagination]="true" [nzNoResult]="noResultText" [nzPageSize]="'15'"
        (nzPageIndexChange)="onNZPageIndexChange($event)" [(nzPageIndex)]="pageIndex" #ticketOrderTable>
        <thead>
          <tr>
            <th>序号</th>
            <th>订单编号</th>
            <th>产品名称</th>
            <th>数量</th>
            <th>应收</th>
            <th>实收</th>
            <th>购买渠道</th>
            <th>下单时间</th>
            <th>支付时间</th>
            <th>订单状态</th>
            <th>使用状态</th>
            <th>操作</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let product of ticketOrderTable.data; let i=index">
            <td>{{i+(pageIndex-1)*15+1}}</td>
            <td></td>
            <td>
              <a></a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td class="operation">
              <a [title]="'查看'">查看</a>
            </td>
          </tr>
        </tbody>
      </nz-table>
    </div>
  </div>
</div>
