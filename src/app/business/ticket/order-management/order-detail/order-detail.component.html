<div class="content-header">
  <app-crumb [level1Name]="'订单管理'" [level2Name]="'产品订单'" [level2RelativePath]="'../../'" [level3Name]="'订单详情'">
  </app-crumb>
</div>
<div class="content-flow">
  <div class="content-container">
    <!-- <div class="line"></div> -->
    <div class="table-item order-table">
      <table class="detail-table">
        <caption>订单信息</caption>
        <tr>
          <td>产品名称：</td>
          <td>{{orderDetail.product?orderDetail.product.product_name:'--'}}</td>
          <td>订单状态：</td>
          <td>{{orderDetail.status | orderStatus}}</td>
          <td>订单号：</td>
          <td>{{orderDetail.order_id}}</td>
        </tr>
        <tr>
          <td>应收：</td>
          <td>{{(orderDetail.right_price | zCompleteNumber)||0}} 元</td>
          <td>实收：</td>
          <td>{{(orderDetail.real_price | zCompleteNumber)||0}} 元</td>
          <td>支付方式：</td>
          <td>{{orderDetail.pay_type && orderDetail.status === 2?payType[orderDetail.pay_type]:'--'}}</td>
        </tr>
        <tr>
          <td>下单时间：</td>
          <td>{{orderDetail.created_time?(orderDetail.created_time* 1000 | date:"y-MM-dd HH:mm"):'--'}}</td>
          <td>支付时间：</td>
          <td>
            {{orderDetail.pay_time && orderDetail.status===2?(orderDetail.pay_time* 1000 | date:"y-MM-dd HH:mm"):'--'}}
          </td>
          <td>第三方交易单号：</td>
          <td>{{orderDetail.third_order_id ? orderDetail.third_order_id : '--'}}</td>
        </tr>
      </table>
    </div>

    <div class="table-item">
      <table class="detail-table">
        <caption>票务信息</caption>
        <thead>
          <tr>
            <th>产品名称</th>
            <th>预定份数</th>
            <th>有效期</th>
            <th>使用状态</th>
            <th>供应商</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>{{ticketInfo.ticket_name}}</td>
            <td>{{orderDetail.buy_num || 0}} 张</td>
            <td>{{ticketInfo.valid_time}}</td>
            <td>{{orderDetail.use_status | orderUseStatus}}</td>
            <td>甜程网</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="table-item" *ngIf="visitorList && visitorList.length>0">
      <table class="detail-table">
        <caption>游客信息</caption>
        <thead>
          <tr>
            <th>姓名</th>
            <th>身份证号</th>
            <th>手机号</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let visitor_info of visitorList">
            <td>{{visitor_info.name?visitor_info.name:'--'}}</td>
            <td>{{visitor_info.certificate_id?visitor_info.certificate_id:'--'}}</td>
            <td>{{visitor_info.telephone?visitor_info.telephone:'--'}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
