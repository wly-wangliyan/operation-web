<div class="content-header">
    <app-crumb [level1Name]="'美行停车'" [level2Name]="'App首页图标配置'"></app-crumb>
    <ul class="header-right">
        <li class="big-bg">
            <a (click)="onShowModal(null)">新建</a>
        </li>
    </ul>
</div>
<div class="content-flow">
    <div class="tab-bar">
        <ul>
            <li [class.active]="!searchParams.status"
                (click)="onCheckStatusClicked(null)">全部</li>
            <li [class.active]="searchParams.status===1"
                (click)="onCheckStatusClicked(1)">待审核</li>
            <li [class.active]="searchParams.status===2"
                (click)="onCheckStatusClicked(2)">已审核</li>
            <li [class.active]="searchParams.status===3"
                (click)="onCheckStatusClicked(3)">被驳回</li>
        </ul>
    </div>
    <div class="search-container">
        <form class="search-form">
            <div class="form-group">
                <span>检车线：</span>
                <input class="form-control" placeholder="请输入检车线" autocomplete="off" maxlength="20"
                       name="object_name" [(ngModel)]="searchParams.object_name"/>
            </div>
            <div class="form-group">
                <span>置顶状态：</span>
                <select class="form-control" [(ngModel)]="searchParams.is_top" name="is_top">
                    <option value=undefined>全部</option>
                    <option value=true>已置顶</option>
                    <option value=false>未置顶</option>
                </select>
            </div>
            <div class="form-group">
                <span>评论时间：</span>
                <input class="form-control" placeholder="请输入车型名称" autocomplete="off" maxlength="20"
                       name="vehicle_type_name" [(ngModel)]="searchParams.section"/>
                <div class="search-btn-group">
                    <button nz-button nzType="primary" (click)="onSearchBtnClick()">查询
                    </button>
                </div>
            </div>
        </form>
    </div>
    <div class="table-container">
        <div class="zmy-table">
            <nz-table [nzData]="iconList"
                      [nzShowPagination]="true"
                      [nzNoResult]="noResultText"
                      [nzPageSize]="'15'"
                      (nzPageIndexChange)="onNZPageIndexChange($event)"
                      [(nzPageIndex)]="pageIndex"
                      #basicTable>
                <thead>
                <tr>
                    <th>用户id</th>
                    <th>检车线</th>
                    <th>评论内容</th>
                    <th>评论图片</th>
                    <th>时间</th>
                    <th>状态</th>
                    <th>操作</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let data of basicTable.data; let i=index" cdkDrag>
                    <td>
                        <img [src]="data.icon" style="height: 20px;width: 20px">
                    </td>
                    <td [title]="data.title">{{data.title|zMaxLength:20}}</td>
                    <td>{{data.system==1?'IOS':data.system==2?'Android':'--'}}</td>
                    <td>{{data.version}}</td>
                    <td>{{data.belong_to==1?'原生':data.belong_to==2?'H5':'--'}}：{{data.jump_link|zMaxLength:25}}</td>
                    <td>{{data.menu_describe|zMaxLength:15}}</td>
                    <td class="operation">
                        <a [title]="'详情'" (click)="onHideBtnClick(data, true)">详情</a>
                        <a *ngIf="data.is_display" [title]="'通过'" (click)="onHideBtnClick(data, false)">通过</a>
                        <a *ngIf="data.is_display" [title]="'驳回'" (click)="onHideBtnClick(data, false)">驳回</a>
                        <a [title]="'置顶'" (click)="onShowModal(data)">置顶</a>
                        <a [title]="'取消置顶'" (click)="onDeleteBtnClick(data)">取消置顶</a>
                    </td>
                </tr>
                </tbody>
            </nz-table>
        </div>
    </div>
</div>

